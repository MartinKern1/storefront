{% sw_extends '@Storefront/page/checkout/_page.html.twig' %}

{% block base_header %}
    {% sw_include '@Storefront/layout/header/header-minimal.html.twig' %}
{% endblock %}

{% block base_navigation %}{% endblock %}

{% block page_checkout_main_content %}
    {% block page_checkout_register %}
        {% block page_checkout_register_header %}
            <h1 class="address-main-header">
                {{ "checkout.addressHeader"|trans }}
            </h1>
        {% endblock %}

        {% block page_checkout_login %}
            {% block page_checkout_login_collapse_toggle %}
                <div class="address-login-collapse-toogle">
                    {% sw_icon 'avatar-single' %}
                    <a href="#loginCollapse"
                       class="login-collapse-toggle"
                       data-toggle="collapse"
                       aria-expanded="false">
                        <strong>{{ "checkout.addressLoginToggle"|trans }}</strong> </a>
                </div>
            {% endblock %}

            {% block page_checkout_login_collapse %}
                <div class="collapse" id="loginCollapse">
                    {% block page_checkout_login_card %}
                        {% sw_include '@Storefront/component/account/login.html.twig' %}
                    {% endblock %}
                </div>
            {% endblock %}
        {% endblock %}

        {% block page_checkout_register_collapse %}
            {% block page_checkout_register_card %}
                {% sw_include '@Storefront/page/checkout/address/register.html.twig' with {
                    'cardTitle': "checkout.addressRegisterCardTitle"|trans
                } %}
            {% endblock %}
        {% endblock %}
    {% endblock %}
{% endblock %}

{% block page_checkout_sidebar_content %}
    {{ parent() }}

    {% block page_checkout_register_products %}
        <div class="checkout-sidebar-products">
            {% block page_checkout_register_products_header %}
                <h2 class="checkout-sidebar-header">
                    {{ "checkout.cartHeader"|trans }}
                </h2>
            {% endblock %}

            {% block page_checkout_register_sidebar_products_list %}
                <div class="checkout-sidebar-products-list">
                    {% for lineItem in page.cart.lineItems.elements %}
                        {% block page_checkout_register_summary_product %}
                            {% sw_include '@Storefront/page/checkout/summary-item.html.twig' %}
                        {% endblock %}
                    {% endfor %}
                </div>
            {% endblock %}
        </div>
    {% endblock %}
{% endblock %}

{% block base_footer %}
    {% sw_include '@Storefront/layout/footer/footer-minimal.html.twig' %}
{% endblock %}
